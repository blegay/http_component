# **Method :** HTTP_urlEncode## **Scope :** public## **Description :** This function is a specific URI encoding function for AWS## **Parameters :** | Parameter | Direction | Name | Type | Ddescription | |:----:|:----:|:----|:----|:----| | $0 | OUT | uriEncoded | TEXT | uri encoded | | $1 | IN | uri | TEXT | uri | | $2 | IN | encodeSlash | BOOLEAN | if TRUE encode "/", if FALSE "/" is not encoded (optional, default TRUE) | | $2 | IN | rawUrlEncoding | BOOLEAN | if TRUE encode " " as "%20", if FALSE " " is encoded with "+" (optional, default TRUE) | ## **Notes :**         http://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-query-string-auth.html        URI encode every byte. UriEncode() must enforce the following rules:                URI encode every byte except the unreserved characters: 'A'-'Z', 'a'-'z', '0'-'9', '-', '.', '_', and '~'.        The space character is a reserved character and must be encoded as "%20" (and not as "+").        Each URI encoded byte is formed by a '%' and the two-digit hexadecimal value of the byte.        Letters in the hexadecimal value must be uppercase, for example "%1A".        Encode the forward slash character, '/', everywhere except in the object key name. For example, if the object key name is photos/Jan/sample.jpg, the forward slash in the key name is not encoded.        Caution        The standard UriEncode functions provided by your development platform may not work because of differences in implementation and related ambiguity in the underlying RFCs. We recommend that you write your own custom UriEncode function to ensure that your encoding will work.        The following is an example uri-encode() function in Java.                        UriEncode(CharSequence input, boolean encodeSlash) {                    StringBuilder result = new StringBuilder();                    for (int i = 0; i < input.length(); i++) {                        char ch = input.charAt(i);                        if ((ch >= 'A' && ch <= 'Z') || (ch >= 'a' && ch <= 'z') || (ch >= '0' && ch <= '9') || ch == '_' || ch == '-' || ch == '~' || ch == '.') {                            result.append(ch);                        } else if (ch == '/') {                            result.append(encodeSlash ? "%2F" : ch);                        } else {                            result.append(toHexUTF8(ch));                        }                  }                  return result.toString();## **Example :** ```             ASSERT(HTTP_urlEncode("")="")       ASSERT(HTTP_urlEncode(" ")="%20")       ASSERT(HTTP_urlEncode("/")="%2F")       ASSERT(HTTP_urlEncode("/";True)="%2F")       ASSERT(HTTP_urlEncode("/";False)="/")       ASSERT(HTTP_urlEncode("é")="%C3%A9")       ASSERT(HTTP_urlEncode ("été")="%C3%A9t%C3%A9")```## **Version :** 1.00.00## **Author :** Bruno LEGAY (BLE) - Copyrights A&C Consulting - 2008## **History :**  CREATION : Bruno LEGAY (BLE) - 17/04/2016, 08:44:10 - v1.00.00