# **Method :** HTTP_multipartBuild## **Scope :** public## **Treadsafe :** capable ✅ ## **Description :** This method builds an multipart blob## **Parameters :** | Parameter | Direction | Name | Type | Ddescription | |:----:|:----:|:----|:----|:----| | $1 | INOUT | $vp_bodyBlobPtr | POINTER | body blob pointer (modified) | | $2 | IN | boundary | TEXT | boundary (see HTTP_multipartBoundaryNew) | | $3 | IN | header | TEXT | part header (optional) | | $4 | IN | partBlobPtr | POINTER | part body (optional, not modified) | ## **Notes :** ## **Example :** ```      C_TEXT($vt_boundary)      $vt_boundary:=HTTP_multipartBoundaryNew         //"========================0C832A9F8D41497F97DA591189E1DB80"            C_TEXT($vt_crlf)      $vt_crlf:="\r\n"            C_BLOB($vx_body)      SET BLOB SIZE($vx_body;0)            C_TEXT($vt_header)              // set multipart 1      $vt_header:=""      $vt_header:=$vt_header+"Content-Disposition: form-data; name=\"frontImage\"; filename=\"frontImage.jpg\""+$vt_crlf      $vt_header:=$vt_header+"Content-Type: image/jpeg"+$vt_crlf      $vt_header:=$vt_header+"Content-Length: "+String(BLOB size($vx_frontImageBlob))+$vt_crlf      HTTP_multipartBuild (->$vx_body;$vt_boundary;$vt_header;->$vx_frontImageBlob)              // set multipart 2      $vt_header:=""      $vt_header:=$vt_header+"Content-Disposition: form-data; name=\"backImage\"; filename=\"backImage.jpg\""+$vt_crlf      $vt_header:=$vt_header+"Content-Type: image/jpeg"+$vt_crlf      $vt_header:=$vt_header+"Content-Length: "+String(BLOB size($vx_backimageblob))+$vt_crlf      HTTP_multipartBuild (->$vx_body;$vt_boundary;$vt_header;->$vx_backimageblob)              // end multipart      HTTP_multipartBuild (->$vx_body;$vt_boundary)            ARRAY TEXT($tt_headerKeys;0)      ARRAY TEXT($tt_headerValues;0)            APPEND TO ARRAY($tt_headerKeys;"Content-Type")      APPEND TO ARRAY($tt_headerValues;"multipart/form-data; boundary="+$vt_boundary)            APPEND TO ARRAY($tt_headerKeys;"Content-Length")      APPEND TO ARRAY($tt_headerValues;String(BLOB size($vx_body)))```## **Version :** 1.00.00## **Author :** Bruno LEGAY (BLE) - Copyrights A&C Consulting - 2020## **History :**  CREATION : Bruno LEGAY (BLE) - 10/11/2015, 10:30:56 - v1.00.00